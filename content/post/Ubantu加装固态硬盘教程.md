---
title: "Ubantu加装固态硬盘教程"
date: "2025-06-30T00:00:00Z"
math: true
categories:
    - 工作
tags:
    - 技术
    - ubantu
---


由于需要下载一个大数据集，本来电脑的1T固态不够用了，需要加装固态硬盘。我购买了一个4T的固态硬盘，主机装上之后还有一系列格式化和挂载的操作，也是有点麻烦，在此记录一下，主要有以下几个步骤：



### 对硬盘进行分区并格式化

运行终端命令`df -h`，查看现有硬盘分区及挂载状态，发现没有新增的固态硬盘。

所有安装的硬盘状态：`sudo fdisk -l`

找到新增但还没有挂载的固态硬盘，以/dev/nvme01为例，进入并进行分区

```bash
sudo fdisk /dev/nvme01
n # 创建分区
p # 创建主分区
1 # 分区编号，接下来会有两个回车
w # 保存
```

基本就是按照默认的来就行了，最后w保存硬盘修改

再次`sudo fdisk -l`，找到硬盘下的新分区，又称为设备（device boot），以/dev/nvme01p1为例子

格式化该分区：`mkfs -t ext4 -c /dev/sdb1`

-t 制定要把磁盘格式化成什么类型

-c 在建立文件系统之前检查环道，要等一段时间，新硬盘一般不需要



### 挂载

创建挂载点并进行挂载

```bash
mkdir /ssd
sudo mount /dev/nvme01p1  /ssd
```

设置开机自动挂载，查看硬盘的UUID

`sudo blkid /dev/nvme01p1`

`code /etc/fstab`

在文件最后添加  `UUID=abcd-1234 /ssd ext4 defaults 0 0 `

测试是否能正常挂载：`sudo mount -a`   无报错说明添加成功。



 `/etc/fstab` 文件结构

每一行的格式是：

```
<设备名或UUID>    <挂载点>     <文件系统类型>  <挂载选项>    <dump>  <fsck>
```

- **第1列**：磁盘分区，通常用 `UUID=...` 以保证设备插拔或路径变化后仍能识别
- **第2列**：挂载点，比如 `/`（根目录）或 `/boot/efi`
- **第3列**：文件系统类型，如 `ext4`、`vfat`、`swap`
- **第4列**：挂载选项，如 `defaults`、`errors=remount-ro`
- **第5列 dump**：通常是 `0`（表示不需要做备份）
- **第6列 fsck顺序**：`1` 表示首先检查（通常是根分区），`2` 表示之后检查，`0` 表示不检查
