<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ubantu on Ghost in the Shell</title><link>https://richie-live.github.io/tags/ubantu/</link><description>Recent content in Ubantu on Ghost in the Shell</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 30 Jun 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://richie-live.github.io/tags/ubantu/index.xml" rel="self" type="application/rss+xml"/><item><title>Ubantu加装固态硬盘教程</title><link>https://richie-live.github.io/p/ubantu%E5%8A%A0%E8%A3%85%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98%E6%95%99%E7%A8%8B/</link><pubDate>Mon, 30 Jun 2025 00:00:00 +0000</pubDate><guid>https://richie-live.github.io/p/ubantu%E5%8A%A0%E8%A3%85%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98%E6%95%99%E7%A8%8B/</guid><description>&lt;p>由于需要下载一个大数据集，本来电脑的1T固态不够用了，需要加装固态硬盘。我购买了一个4T的固态硬盘，主机装上之后还有一系列格式化和挂载的操作，也是有点麻烦，在此记录一下，主要有以下几个步骤：&lt;/p>
&lt;h3 id="对硬盘进行分区并格式化">对硬盘进行分区并格式化
&lt;/h3>&lt;p>运行终端命令&lt;code>df -h&lt;/code>，查看现有硬盘分区及挂载状态，发现没有新增的固态硬盘。&lt;/p>
&lt;p>所有安装的硬盘状态：&lt;code>sudo fdisk -l&lt;/code>&lt;/p>
&lt;p>找到新增但还没有挂载的固态硬盘，以/dev/nvme01为例，进入并进行分区&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo fdisk /dev/nvme01
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">n &lt;span class="c1"># 创建分区&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">p &lt;span class="c1"># 创建主分区&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">1&lt;/span> &lt;span class="c1"># 分区编号，接下来会有两个回车&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">w &lt;span class="c1"># 保存&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>基本就是按照默认的来就行了，最后w保存硬盘修改&lt;/p>
&lt;p>再次&lt;code>sudo fdisk -l&lt;/code>，找到硬盘下的新分区，又称为设备（device boot），以/dev/nvme01p1为例子&lt;/p>
&lt;p>格式化该分区：&lt;code>mkfs -t ext4 -c /dev/sdb1&lt;/code>&lt;/p>
&lt;p>-t 制定要把磁盘格式化成什么类型&lt;/p>
&lt;p>-c 在建立文件系统之前检查环道，要等一段时间，新硬盘一般不需要&lt;/p>
&lt;h3 id="挂载">挂载
&lt;/h3>&lt;p>创建挂载点并进行挂载&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir /ssd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo mount /dev/nvme01p1 /ssd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>设置开机自动挂载，查看硬盘的UUID&lt;/p>
&lt;p>&lt;code>sudo blkid /dev/nvme01p1&lt;/code>&lt;/p>
&lt;p>&lt;code>code /etc/fstab&lt;/code>&lt;/p>
&lt;p>在文件最后添加 &lt;code>UUID=abcd-1234 /ssd ext4 defaults 0 0 &lt;/code>&lt;/p>
&lt;p>测试是否能正常挂载：&lt;code>sudo mount -a&lt;/code> 无报错说明添加成功。&lt;/p>
&lt;p>&lt;code>/etc/fstab&lt;/code> 文件结构&lt;/p>
&lt;p>每一行的格式是：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;设备名或UUID&amp;gt; &amp;lt;挂载点&amp;gt; &amp;lt;文件系统类型&amp;gt; &amp;lt;挂载选项&amp;gt; &amp;lt;dump&amp;gt; &amp;lt;fsck&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>第1列&lt;/strong>：磁盘分区，通常用 &lt;code>UUID=...&lt;/code> 以保证设备插拔或路径变化后仍能识别&lt;/li>
&lt;li>&lt;strong>第2列&lt;/strong>：挂载点，比如 &lt;code>/&lt;/code>（根目录）或 &lt;code>/boot/efi&lt;/code>&lt;/li>
&lt;li>&lt;strong>第3列&lt;/strong>：文件系统类型，如 &lt;code>ext4&lt;/code>、&lt;code>vfat&lt;/code>、&lt;code>swap&lt;/code>&lt;/li>
&lt;li>&lt;strong>第4列&lt;/strong>：挂载选项，如 &lt;code>defaults&lt;/code>、&lt;code>errors=remount-ro&lt;/code>&lt;/li>
&lt;li>&lt;strong>第5列 dump&lt;/strong>：通常是 &lt;code>0&lt;/code>（表示不需要做备份）&lt;/li>
&lt;li>&lt;strong>第6列 fsck顺序&lt;/strong>：&lt;code>1&lt;/code> 表示首先检查（通常是根分区），&lt;code>2&lt;/code> 表示之后检查，&lt;code>0&lt;/code> 表示不检查&lt;/li>
&lt;/ul></description></item></channel></rss>